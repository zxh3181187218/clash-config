# Clash Meta Config - v2rayNG Style (Pure UDP Tunneling)
# æ¨¡ä»¿ v2rayNG æœºåˆ¶ï¼Œå¼ºåˆ¶å°† DNS è¯·æ±‚å°è£…åœ¨éš§é“å†…ï¼Œæœç»æœ¬åœ°æ³„æ¼

port: 7890
socks-port: 7891
mixed-port: 7892
allow-lan: true
mode: rule
log-level: info
ipv6: false
external-controller: 127.0.0.1:9090

# --- å¿…é¡»å¼€å¯ TUN æ¨¡å¼ ---
tun:
  enable: true
  stack: system
  auto-route: true
  auto-detect-interface: true
  dns-hijack:
    - any:53

# --- DNS é…ç½® (å›å½’çº¯ç²¹) ---
dns:
  enable: true
  listen: 0.0.0.0:1053
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  respect-rules: true 
  
  # ã€å…³é”®æ”¹åŠ¨ã€‘ä¸å†ä½¿ç”¨ httpsï¼Œæ”¹ç”¨çº¯ IP çš„ UDP DNS
  # è¿™æ · Clash äº§ç”Ÿçš„åªæ˜¯ä¸€ä¸ªæ™®é€šçš„ UDP æ•°æ®åŒ…ï¼Œæ›´å®¹æ˜“è¢«è§„åˆ™æ•è·
  
  # 1. é»˜è®¤ DNS (ç»™å›½å¤–)ï¼šGoogle DNS
  nameserver:
    - 8.8.8.8
    - 1.1.1.1

  # 2. æŒ‡å®š DNS (ç»™å›½å†…)ï¼šé˜¿é‡Œ DNS
  nameserver-policy:
    "geosite:cn,private":
      - 223.5.5.5
      - 119.29.29.29

  # ç¦ç”¨ fallbackï¼Œé˜²æ­¢ä¹±è·‘
  fallback: []

# --- èŠ‚ç‚¹é…ç½® (å¼€å¯ UDP æ”¯æŒ) ---
proxies:
  # 1. å¾·å›½å‡ºå£ (15821)
  - name: "âœˆï¸ å¾·å›½ (æˆéƒ½ä¸­è½¬)"
    type: vmess
    server: 47.108.130.60
    port: 15821
    uuid: 4b64ce4d-72d5-463b-acba-90773c064ab8
    alterId: 0
    cipher: auto
    network: ws
    udp: true  # ã€å…³é”®ã€‘å¿…é¡»å¼€å¯ï¼Œå…è®¸ DNS åŒ…èµ°éš§é“
    ws-opts:
      path: "/"
      headers:
        Host: pull.free.video.10010.com

  # 2. æˆéƒ½å‡ºå£ (49084)
  - name: "ğŸ  æˆéƒ½ (æœ¬åœ°ç›´è¿)"
    type: vmess
    server: 47.108.130.60
    port: 49084
    uuid: 4b64ce4d-72d5-463b-acba-90773c064ab8
    alterId: 0
    cipher: auto
    network: ws
    udp: true  # ã€å…³é”®ã€‘å¿…é¡»å¼€å¯
    ws-opts:
      path: "/"
      headers:
        Host: pull.free.video.10010.com

# --- ç­–ç•¥ç»„ ---
proxy-groups:
  - name: "ğŸŒ å›½å¤–æµé‡"
    type: select
    proxies:
      - "âœˆï¸ å¾·å›½ (æˆéƒ½ä¸­è½¬)"

  - name: "ğŸ‡¨ğŸ‡³ å›½å†…æµé‡"
    type: select
    proxies:
      - "ğŸ  æˆéƒ½ (æœ¬åœ°ç›´è¿)"
      - DIRECT

  - name: "ğŸŸ æ¼ç½‘ä¹‹é±¼"
    type: select
    proxies:
      - "ğŸŒ å›½å¤–æµé‡"
      - "ğŸ‡¨ğŸ‡³ å›½å†…æµé‡"

# --- è§„åˆ™ (æš´åŠ›è·¯ç”±) ---
rules:
  # ã€é˜²æ³„æ¼æ ¸å¿ƒé€»è¾‘ã€‘
  # æ„æ€ï¼šå‡¡æ˜¯å»æ‰¾ 8.8.8.8 çš„æ•°æ®åŒ…ï¼Œä¸å‡†ç›´è¿ï¼Œå¿…é¡»è¿›â€œå›½å¤–æµé‡â€çš„éš§é“
  # è¿™å°±å®ç°äº† v2rayNG çš„æ•ˆæœï¼šDNS è¯·æ±‚æ˜¯åœ¨æœåŠ¡å™¨ç«¯å‘å‡ºçš„
  - IP-CIDR,8.8.8.8/32,ğŸŒ å›½å¤–æµé‡
  - IP-CIDR,1.1.1.1/32,ğŸŒ å›½å¤–æµé‡
  
  # å‡¡æ˜¯å»æ‰¾ 223.5.5.5 çš„æ•°æ®åŒ…ï¼Œå¿…é¡»è¿›â€œå›½å†…æµé‡â€çš„éš§é“
  - IP-CIDR,223.5.5.5/32,ğŸ‡¨ğŸ‡³ å›½å†…æµé‡
  - IP-CIDR,119.29.29.29/32,ğŸ‡¨ğŸ‡³ å›½å†…æµé‡

  # å¸¸è§„åˆ†æµ
  - GEOSITE,cn,ğŸ‡¨ğŸ‡³ å›½å†…æµé‡
  - GEOIP,cn,ğŸ‡¨ğŸ‡³ å›½å†…æµé‡
  
  - MATCH,ğŸŒ å›½å¤–æµé‡
