port: 7890
socks-port: 7891
allow-lan: true
mode: rule
log-level: info
external-controller: :9090

proxies:
  # --- èŠ‚ç‚¹ 1: æˆéƒ½å…¥å£ ---
  - name: "1ï¸âƒ£ æˆéƒ½-VMess"
    type: vmess
    server: 47.108.130.60
    port: 49084
    uuid: 4b64ce4d-72d5-463b-acba-90773c064ab8
    alterId: 0
    cipher: auto
    udp: true
    network: ws
    ws-opts:
      path: "/"
      headers:
        Host: pull.free.video.10010.com
    tls: false 

  # --- èŠ‚ç‚¹ 2: å›½å¤–è½åœ° ---
  - name: "2ï¸âƒ£ VLESS-Vision-è½åœ°"
    type: vless
    server: hy2.zxh425.dpdns.org
    port: 443
    uuid: 3a7d914d-86d9-4cec-8e65-b08f5c0b98ab
    network: tcp
    tls: true
    udp: true
    flow: xtls-rprx-vision
    servername: gateway.icloud.com
    client-fingerprint: chrome
    reality-opts:
      public-key: IXNtZnkoBPz2Yz-o1Jia8gQLeCj4mh-cszPFQys_OH4
      short-id: f71dda44e6f4f3b7

proxy-groups:
  # --- [ç­–ç•¥ A] é“¾å¼å‡ºå›½ ---
  - name: "âœˆï¸ é“¾å¼å‡ºå›½"
    type: relay
    proxies:
      - "1ï¸âƒ£ æˆéƒ½-VMess"
      - "2ï¸âƒ£ VLESS-Vision-è½åœ°"

  # --- [ç­–ç•¥ B] å›½å†…æµé‡ ---
  # å¼ºåˆ¶èµ°æˆéƒ½èŠ‚ç‚¹
  - name: "ğŸ‡¨ğŸ‡³ å›½å†…æµé‡"
    type: select
    proxies:
      - "1ï¸âƒ£ æˆéƒ½-VMess"
      - "DIRECT" 

  # --- [ç­–ç•¥ C] æ€»æ§ ---
  - name: "ğŸŸ æ¼ç½‘ä¹‹é±¼"
    type: select
    proxies:
      - "âœˆï¸ é“¾å¼å‡ºå›½"
      - "1ï¸âƒ£ æˆéƒ½-VMess"

rules:
  # 1. ä¿æŠ¤ç³»ç»Ÿè¿æ¥
  - GEOIP,private,DIRECT,no-resolve

  # 2. å¹¿å‘Šæ‹¦æˆª
  - GEOSITE,category-ads-all,REJECT
  
  # 3. å›½å†…ç½‘ç«™ (ä½¿ç”¨æ ‡å‡† MMDB æ ¼å¼)
  - GEOSITE,cn,ğŸ‡¨ğŸ‡³ å›½å†…æµé‡
  - GEOIP,cn,ğŸ‡¨ğŸ‡³ å›½å†…æµé‡
  
  # 4. å›½å¤–æµé‡
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼
